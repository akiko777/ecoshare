<div class="card">
  <%= link_to image_tag(share.image, class: :card_image ), share_path(share.id), method: :get %>
  <div class="card-body">
    <%# タイトルを表示 %>
    <p class="card-title">
      <%= share.title %>
    </p>
    <% if current_user %>
      <% if current_user.already_liked?(share) %>
        <%# 現在ログイン中のユーザーが対象の投稿に対して行ったいいねのインスタンスを取得 %>
        <% like = Like.find_by(user_id: current_user.id, share_id: share.id) %>
        <%= button_to 'いいねを取り消す', share_like_path(share, like.id), method: :delete %>
      <% else %>
        <%= button_to 'いいね', share_likes_path(share) %>
      <% end %>
    <% end %>
    <%# 投稿したユーザー名を表示 %>
    <%= link_to "#{share.user.nickname}", user_path(share.user.id), method: :get, class: :card_user %>
  </div>
</div>